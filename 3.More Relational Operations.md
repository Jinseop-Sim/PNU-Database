# More Relational Operation
---
## Relational Algebra on Bags
### What is bag?
> Set과 같은 역할을 하지만, Set과 다르게 중복을 허락하며, 순서가 없다!  
- Example : {1,2,1,3}, {1,1,2}

### Why we use bag?
> Database를 다루는 데에 매우 효율적으로 사용된다.  

### Operations on Bags
- Selection : Set에 적용되는 Selection과 동일하다.
- Projection : Set에서는 Duplication을 삭제하면서 Projection 하지만, Bag은 Duplication을 지우지 않는다.
- Products and joins : Set과 동일하게 R1 X R2, R1 JOIN R2 이 적용된다. 중복이 있더라도, 결과에는 영향이 없다.  
![캡처](https://user-images.githubusercontent.com/71700079/138302285-2c691ce4-fbce-4b2d-ab84-d471586b1569.PNG)  
- Union : 합집합이다. (e.g. {1,2,1} U {1,1,2,3,1} = {1,1,1,1,1,2,2,3}
- Intersection : 교집합이다. (e.g. {1,2,1} Inter {1,2,3} = {1,2}
- Difference : 차집합이다. (e.g. {1,2,1} - {1,2,3} = {1}

### Beware!
> Bag에서 작용하는 대수적 법칙과 Set에서 작용하는 대수적 법칙은 다를 수도 있다!  
- Example
  - Set에서 Union(합집합) 연산은 Idempotent(멱등성)을 가진다. (e.g. S UNION S = S)
  - 하지만 Bag에서의 Union(합집합) 연산은 중복을 허락하기 때문에, Idempotent가 없다. (e.g.  B UNION B = {B, B})

### Extended Algebra
- Delta : Bags에서 Duplications를 제거한다.
- Tower : Bags의 Tuple들을 정렬한다. ==> Sorting의 결과는 List로 나온다.(Why? Set과 Bag은 순서가 없다.)
- Extended Projection : 
- Gamma : Grouping and Aggregation
  - Aggregation : Relational Algebra의 Operator은 아니지만, (e.g. SUM, AVG, COUNT, MIN, and MAX)
  - Grouping : 
- OUTERJOIN : __Dangling Tuples__ 를 발생시키지 않기 위해서, 빈 공간에 Padding을 시킨다.
